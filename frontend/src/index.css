@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

@layer base {
  :root {
    font-size: 14px; /* Match reference implementation (inherited from Google AI Studio) */
    /* Espejo design system - Graphite & Terracotta (Light Mode) */
    --background: #f9fafb;         /* gray-50 */
    --surface: #ffffff;            /* white */
    --accent: #c2410c;             /* orange-700 */
    --accent-hover: #9a3412;       /* orange-800 */
    --text-primary: #111827;       /* gray-900 */
    --text-secondary: #6b7280;     /* gray-500 */
    --border-subtle: #e5e7eb;      /* gray-200 */
    --neutral-bg: #e5e7eb;         /* gray-200 */
  }

  .dark {
    /* Espejo design system - Graphite & Terracotta (Dark Mode) */
    --background: #111827;         /* gray-900 */
    --surface: #1f2937;            /* gray-800 */
    --accent: #f97316;             /* orange-500 */
    --accent-hover: #ea580c;       /* orange-600 */
    --text-primary: #ffffff;       /* white */
    --text-secondary: #9ca3af;     /* gray-400 */
    --border-subtle: #374151;      /* gray-700 */
    --neutral-bg: #374151;         /* gray-700 */
  }
}

@layer base {
  body {
    @apply bg-background text-primary;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  /* Global font settings for consistency */
  .font-serif {
    font-variant-ligatures: common-ligatures;
    font-kerning: normal;
    letter-spacing: 0.01em;
    font-feature-settings: 'kern', 'liga';
  }
  
  /* Logo text styling for cross-browser consistency */
  .logo-text {
    /* Shared properties for all browsers */
    font-weight: 600;
    font-synthesis: none;
    
    /* Fine-tune for specific browsers */
    @supports (-webkit-touch-callout: none) {
      /* Safari-only styles */
      -webkit-font-smoothing: subpixel-antialiased;
      letter-spacing: 0.015em; /* Slightly wider letter spacing in Safari */
    }
    
    @supports not (-webkit-touch-callout: none) {
      /* Non-Safari browsers (Chrome, Firefox, etc.) */
      font-variant-numeric: lining-nums;
    }
  }
}

@layer utilities {
  @keyframes caret-blink {
    0%,70%,100% {
      opacity: 1;
    }
    20%,50% {
      opacity: 0;
    }
  }

  .animate-caret-blink {
    animation: caret-blink 1.25s ease-out infinite;
  }

  /* Height-based responsive design for interview layout */
  @media (max-height: 900px) {
    .interview-progress-hide-short {
      display: none !important;
    }
  }

  /* Dynamic height: 100vh if viewport >= 768px, otherwise 768px minimum */
  .dynamic-viewport-height {
    height: max(100vh, 768px);
  }

  /* For text-based transitional elements (navigation links, topic titles) */
  .focus-transitional-invert {
    @apply focus-visible:outline-none focus-visible:bg-primary focus-visible:text-surface p-1;
  }

  /* For button-based transitional elements (Button component, VoiceInput) */
  .focus-transitional-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent;
  }

  /* For retained elements (text inputs only - all users see focus) */
  .focus-retained {
    @apply focus:outline-none focus:ring-2 focus:ring-accent;
  }

}